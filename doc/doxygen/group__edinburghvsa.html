<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Hardware Toolbox: Edinburgh VSA</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Hardware Toolbox
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#files">Files</a>  </div>
  <div class="headertitle">
<div class="title">Edinburgh VSA</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:libedinburghvsa_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libedinburghvsa_8c.html">libedinburghvsa.c</a></td></tr>
<tr class="memdesc:libedinburghvsa_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Library of functions for calculating dynamics properties of the Edinburgh VSA. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:mex__libedinburghvsa_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mex__libedinburghvsa_8c.html">mex_libedinburghvsa.c</a></td></tr>
<tr class="memdesc:mex__libedinburghvsa_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">MEX gateway to Edinburgh VSA dynamics library (libedinburghvsa). <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:libedinburghvsa_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libedinburghvsa_8h.html">libedinburghvsa.h</a></td></tr>
<tr class="memdesc:libedinburghvsa_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Library of functions for calculating dynamics properties of the Edinburgh VSA. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1><a class="anchor" id="edinburghvsa_info"></a>
Information about the Edinburgh VSA implementation</h1>
<div class="image">
<img src="edinburghvsa_hardware.png" alt="edinburghvsa_hardware.png"/>
<div class="caption">
Edinburgh VSA</div></div>
 <h2><a class="anchor" id="dynamics"></a>
Dynamics</h2>
<p>The Edinburgh VSA dynamics library contains functions for calculating dynamics properties of the robot based on an analytical model of the robot. The geometry of this model is shown below: </p>
<div class="image">
<img src="edinburghvsa_model.png" alt="edinburghvsa_model.png"/>
</div>
<p>The dynamics equations are as follows.</p>
<ul>
<li>Joint torque: <img class="formulaInl" alt="$\tau(q,\mathbf{u}) = \hat{\mathbf z}^T(\mathbf F_1(q,\mathbf{u})\times\mathbf a_1(q) + \mathbf F_2(q,\mathbf{u})\times \mathbf a_2(q))$" src="form_0.png"/></li>
</ul>
<p>where <img class="formulaInl" alt="$\hat{\mathbf z}$" src="form_1.png"/> is the unit vector along the joint rotation axis, <img class="formulaInl" alt="$\mathbf{a}=(a\cos q,a\sin q,0)^T$" src="form_2.png"/>, <img class="formulaInl" alt="$\mathbf F_i=\kappa(s_i - s_0)\frac{\mathbf s_i}{s_i}$" src="form_3.png"/>, <img class="formulaInl" alt="$i\in\{1,2\}$" src="form_4.png"/> are the forces due to the two springs (both with spring constant <img class="formulaInl" alt="$\kappa$" src="form_5.png"/>), <img class="formulaInl" alt="$\mathbf{s}_1=(-h-L\sin u_1,-d+L\cos u_1,0)^T+\mathbf{a}$" src="form_6.png"/> and <img class="formulaInl" alt="$\mathbf{s}_2=(h+L\sin u_2,-d+L\cos u_2,0)^T-\mathbf{a}$" src="form_7.png"/> are the extensions of the two springs, and all other quantities are illustrated in the figure above.</p>
<p>The dynamics parameters (inertia, spring constants, lengths) are measured by hand or estimated with a system identification. These are defined in sketchbook/edinburghvsa/defines.h</p>
<dl class="section see"><dt>See Also</dt><dd>The maxima script doc/maxima/edinburghvsa.mac for derivations.</dd></dl>
<h2><a class="anchor" id="system_characterisation"></a>
System Characterisation</h2>
<p>Based on this model of the dynamics, the below figures give some characterisation of the system dynamics.</p>
<div class="image">
<img src="eqpos_vs_u_edinburghvsa.png" alt="eqpos_vs_u_edinburghvsa.png"/>
<div class="caption">
Equlibrium position vs. motor positions (evaluated at q=0, dq/dt=0)</div></div>
<div class="image">
<img src="stiff_vs_u_edinburghvsa.png" alt="stiff_vs_u_edinburghvsa.png"/>
<div class="caption">
Stiffness vs. motor positions (evaluated at q=0, dq/dt=0)</div></div>
 <h2><a class="anchor" id="figures"></a>
Useful facts and figures:</h2>
<ul>
<li>The maximum range of the joint is (approximately) <img class="formulaInl" alt="$-65^\circ\le q \le 65^\circ$" src="form_8.png"/>.</li>
</ul>
<ul>
<li>The maximum range of commands to servo 0 is <img class="formulaInl" alt="$0\le u_1\le\pi$" src="form_9.png"/> radiens.</li>
</ul>
<ul>
<li>The maximum range of commands to servo 1 is <img class="formulaInl" alt="$0\le u_2\le\pi$" src="form_10.png"/> radiens.</li>
</ul>
<ul>
<li>The maximum stiffness range is <img class="formulaInl" alt="$ -0.065992 \le k \le 0.514579$" src="form_11.png"/> Nm/rad.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This stiffness range is based on the gradient of the torque function evaluated away from the equilibrium. For this reason, negative values are possible, however this is not neccessarily an indicator of instability! (For this, consider the sign of the torque at a given point). This range was estimated by sampling the gradient of the torque function, over the full range of the joint angle and servo positions.</dd></dl>
<ul>
<li>The maximum range of equilibrium positions is (approximately) <img class="formulaInl" alt="$-25^\circ\le q\le 25^\circ$" src="form_12.png"/>. <dl class="section note"><dt>Note</dt><dd>This stiffness range is based on finding the zeros of the torque function over the range of servo positions and feasible joint angles.</dd></dl>
</li>
</ul>
<h2><a class="anchor" id="components"></a>
Components</h2>
<p>Datasheets for the componenets used can be found below. </p>
<ul>
<li><a href="../datasheets/doc8161.pdf">Atmel 328 Microcontroller</a> </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 28 2016 17:19:58 for Hardware Toolbox by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
